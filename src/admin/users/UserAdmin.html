<ul>
	<table class="table users">
		<thead>
			<tr>
				<th><a href="?sort=id">#</a></th>
				<th><a href="?sort=name">Name</a></th>
				<th><a href="?sort=email">Sign-In</a></th>
				<th>Status</th>
				<th><a href="?sort=created_at">Created at</a></th>
				<th class="center">Charts</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody class="users">
			{#each users as user}
			<UserAdminRow {user} />
			{/each}
		</tbody>
	</table>
</ul>

<script>
    import { getJSON } from '../../shared/utils';
    import UserAdminRow from './UserAdminRow.html';

    export default {
        components: {
            UserAdminRow
        },

        data() {
            return {
                users: []
            };
        },

        oncreate() {
            // get a list of signin methods
            getJSON('/api/users', res => {
                if (res.status === 'ok') {
                    this.set({ users: res.data });
                }
            });
        },

        methods: {}
    };
</script>
